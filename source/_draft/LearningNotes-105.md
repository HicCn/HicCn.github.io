---
title: 重新理解异步
date: 2025-05-21 15:44:18
tags:
    - 编程
categories:
    - 开发笔记
---
## 核心概念
### 同步 vs 异步
- 同步：代码按顺序执行，遇到耗时操作时会阻塞后续代码，直到操作完成。
~~~
// 同步示例：等待文件读取完成才继续
string data = File.ReadAllText("file.txt");
Console.WriteLine("文件读取完成");
~~~


- 异步：遇到耗时操作时，代码不会阻塞，而是继续执行后续任务，操作完成后通过回调、事件或await通知。
~~~
// 异步示例：不等待文件读取，继续执行后续代码
ReadFileAsync().ContinueWith(task => {
    Console.WriteLine("文件读取完成");
});
Console.WriteLine("继续执行其他任务");
~~~

异步的核心的是**非阻塞**。

## UniTask

## 异步编程范式
- 资源加载时使用异步方式
- 复杂计算时使用异步方式
- 网络请求时使用异步方式
- 有必要需要对加载对象进行包装，防止外部直接访问报错
- 避免过早的使用异步，出现性能问题后再尝试重构
- 异步的debug成本更高，错误处理更复杂
## 延申
- unity中的协程
  - Unity 协程是迭代器（IEnumerator）的语法糖，由 Unity 引擎在主线程上调度执行。
- 如何理解yield return
  - 
  - 将方法转换为可暂停 / 恢复的任务，在每次迭代时暂停，等待下一次迭代时从暂停处恢复。